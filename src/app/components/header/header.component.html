<mat-toolbar class="cfsToolbar" color="secondary">

  <div fxLayout="row" class="full-width">

    <button
      fxFlex fxFlexAlign="start center"
      type="button"
      aria-label="Toggle sidenav"
      mat-icon-button
      (click)="toggleMenus()"
      *ngIf="((router.url.indexOf('/dashboard/') > -1) ||isHandset$ | async)"
    >
      <!-- line 7 ngIf used to have "router.url.indexOf('/cfs/')===0) ||" -->
      <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
    </button>
    <!--<span routerLink="/public">-->
    <span fxFlex fxFlexAlign="start center" ><img routerLink="/public" class="logo" [ngClass.lt-sm]="{ 'logo':false, 'logoltsm': true}" src="./../assets/public/logo.png"></span>

    <span fxFlex fxFlexAlign="start center" id="site-title" routerLink="/public">{{env.companyName}}</span>
    <!--</span>-->

    <span fxFlex fxFlexAlign="start center" id="dev-warning" *ngIf="!env.production">Dev environment</span>

    <span fxFlex fxFlexAlign="center center" class="example-spacer"></span>

    <span *ngIf="(isHandset$ | async) ? false : true">
      <button fxFlex fxFlexAlign="end center" mat-button color="primary" class="btnTextColor menuText" routerLink="/private">Dashboard</button>

      <button fxFlex fxFlexAlign="end center" mat-button color="primary" class="btnTextColor menuText" routerLink="/public/contactus">Contact Sales</button>

      <!--
      <button fxFlex fxFlexAlign="end center" *ngIf="!auth.loggedIn" mat-button color="primary" class=" loginLogoutText btnTextColor menuText" [ngClass.lt-sm]="{ 'loginLogoutText':false, 'loginLogoutTextltsm': true}"(click)="auth.login()">Login</button>

      <button fxFlex fxFlexAlign="end center" *ngIf="auth.loggedIn" (click)="auth.logout();" mat-button color="black" class="float-right loginLogoutText  btnTextColor menuText" >Logout!</button>
      -->
      <!--
      <ul fxFlex fxFlexAlign="end center"  class="navbar-nav d-none d-md-block loginLogoutText">
        <li class="nav-item dropdown" ><fa-icon [icon]="faGlobe" class="mr-3"></fa-icon></li>
      </ul>
      -->

          <ul fxFlex fxFlexAlign="end center"  class="navbar-nav d-none d-md-block loginLogoutText">
            <!-- Login button: show if NOT authenticated
            former classes on button

                id="qsLoginBtn"
                class="btn btn-primary btn-margin"
             -->
            <li class="nav-item" *ngIf="auth.loggedIn === false">
              <button
                mat-raised-button
                color="primary"
                (click)="auth.login()"
              >
                Log in
              </button>
            </li>
            <!-- / Login button -->

            <!-- Fullsize dropdown: show if authenticated -->
            <li class="nav-item dropdown" *ngIf="auth.userProfile$ | async as profile" ngbDropdown>
              <a
                ngbDropdownToggle
                class="nav-link dropdown-toggle"
                id="profileDropDown"
                data-toggle="dropdown"
              >
                <!-- Profile image should be set to the profile picture from the id token -->
                <img
                  [src]="profile.picture"
                  alt="Profile picture"
                  class="nav-user-profile rounded-circle"
                  style="width: 75px"
                />
              </a>
              <div class="dropdown-menu dropdown-menu-left" ngbDropdownMenu>
                <!-- Show the user's full name from the id token here -->
                <div class="dropdown-header" *ngIf="profile">
                  {{ profile.name }}
                </div>
                <a
                  routerLink="/private/profile"
                  class="dropdown-item dropdown-profile"
                  *ngIf="profile"
                >
                  <fa-icon [icon]="faUser" class="mr-3"></fa-icon> Profile
                </a>
                <button
                  (click)="auth.logout()"
                  class="btn btn-link dropdown-item"
                  id="qsLogoutBtn"
                >
                  <fa-icon [icon]="faPowerOff" class="mr-3"></fa-icon> Log out
                </button>
              </div>
            </li>
            <!-- /Fullsize dropdown -->
          </ul>
    </span>

  </div>

</mat-toolbar>
